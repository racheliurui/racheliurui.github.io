<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Seite 2 | Hexo</title>
  <meta name="author" content="John Doe">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Hexo"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Hexo</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-07-04T14:10:41.108Z"><a href="/2017/07/04/JavaScript/AngularJS/Angular_Related/">2017-07-04</a></time>
      
      
  
    <h1 class="title"><a href="/2017/07/04/JavaScript/AngularJS/Angular_Related/"></a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Env-Setup"><a href="#Env-Setup" class="headerlink" title="Env Setup"></a>Env Setup</h2><p><a href="https://www.npmjs.com/package/http-server" target="_blank" rel="external">https://www.npmjs.com/package/http-server</a></p>
<p>if you’re running node.js http-server is super easy. Install: npm install -g http-server.<br>After installation cd into your project folder and run http-server -o. -o is to open browser to the page.<br>Sample cmd,<br>pathtonode/node pathtohttpserver/http-server [pathtoangularproject] -p port -a address</p>
<h2 id="Compare-Strings"><a href="#Compare-Strings" class="headerlink" title="Compare Strings"></a>Compare Strings</h2><p><a href="https://docs.angularjs.org/api/ng/function/angular.equals" target="_blank" rel="external">https://docs.angularjs.org/api/ng/function/angular.equals</a></p>
<h2 id="Directory-structure-best-practice"><a href="#Directory-structure-best-practice" class="headerlink" title="Directory structure best practice"></a>Directory structure best practice</h2><p>Refer to the offical recommendation<br><a href="https://github.com/angular/angular-seed/tree/master/app" target="_blank" rel="external">https://github.com/angular/angular-seed/tree/master/app</a></p>
<h2 id="To-debug-Angular-using-Chrome"><a href="#To-debug-Angular-using-Chrome" class="headerlink" title="To debug Angular using Chrome"></a>To debug Angular using Chrome</h2><p>use AngularJS Batarang.</p>
<h2 id="WARNING-Tried-to-load-angular-more-than-once"><a href="#WARNING-Tried-to-load-angular-more-than-once" class="headerlink" title="WARNING: Tried to load angular more than once."></a>WARNING: Tried to load angular more than once.</h2><p><a href="http://stackoverflow.com/questions/22595878/tried-to-load-angular-more-than-once" target="_blank" rel="external">http://stackoverflow.com/questions/22595878/tried-to-load-angular-more-than-once</a><br>TODO: update the page routing</p>
<h2 id="scope-not-Scope"><a href="#scope-not-Scope" class="headerlink" title="$scope not $Scope"></a>$scope not $Scope</h2><p>Exception, Unknown provider: $ScopeProvider &lt;- $Scope</p>
<h2 id="Angular-invoke-Restful-service-that-return-purely-string-array"><a href="#Angular-invoke-Restful-service-that-return-purely-string-array" class="headerlink" title="Angular invoke Restful service that return purely string array"></a>Angular invoke Restful service that return purely string array</h2><p><a href="https://mariuszprzydatek.com/2013/12/13/tricky-behavior-of-angularjs-resource-service/" target="_blank" rel="external">https://mariuszprzydatek.com/2013/12/13/tricky-behavior-of-angularjs-resource-service/</a></p>
<h2 id="PROD"><a href="#PROD" class="headerlink" title="PROD"></a>PROD</h2><p><a href="http://brandonbohling.com/technology/ng-nginx-pm2/" target="_blank" rel="external">http://brandonbohling.com/technology/ng-nginx-pm2/</a><br><a href="https://www.digitalocean.com/community/tutorials/how-to-use-pm2-to-setup-a-node-js-production-environment-on-an-ubuntu-vps" target="_blank" rel="external">https://www.digitalocean.com/community/tutorials/how-to-use-pm2-to-setup-a-node-js-production-environment-on-an-ubuntu-vps</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-07-04T14:10:41.102Z"><a href="/2017/07/04/JavaScript/LoadingSequence/">2017-07-04</a></time>
      
      
  
    <h1 class="title"><a href="/2017/07/04/JavaScript/LoadingSequence/"></a></h1>
  

    </header>
    <div class="entry">
      
        <p>Basic<br><a href="http://javascript.info/tutorial/adding-script-html" target="_blank" rel="external">http://javascript.info/tutorial/adding-script-html</a></p>
<p>Issue reason,<br>$timeout(function(){});</p>
<p>the default timeout will be zero. So the function will be triggerred without any delay.<br>The function itself is relying on some value to be initialized, so that’s the reason causing the problem. after change it to<br>$timeout(function(){},3000);<br>the issue solved.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-07-04T14:10:41.093Z"><a href="/2017/07/04/Java/Spring/RunSpringBootAsWindowsService/">2017-07-04</a></time>
      
      
  
    <h1 class="title"><a href="/2017/07/04/Java/Spring/RunSpringBootAsWindowsService/"></a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Setup-a-spring-boot-application-to-run-on-windows-as-a-service"><a href="#Setup-a-spring-boot-application-to-run-on-windows-as-a-service" class="headerlink" title="Setup a spring boot application to run on windows as a service"></a>Setup a spring boot application to run on windows as a service</h1><h1 id="Reference-links"><a href="#Reference-links" class="headerlink" title="Reference links"></a>Reference links</h1><p><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html" target="_blank" rel="external">https://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html</a></p>
<p><a href="https://github.com/kohsuke/winsw/blob/master/doc/installation.md" target="_blank" rel="external">https://github.com/kohsuke/winsw/blob/master/doc/installation.md</a></p>
<p><a href="https://github.com/snicoll-scratches/spring-boot-daemon" target="_blank" rel="external">https://github.com/snicoll-scratches/spring-boot-daemon</a></p>
<p>Basically, winsw provide a way to make executable to run as a windows service.</p>
<p>Tips,</p>
<ol>
<li>Check winsw log for the real command being run</li>
<li>Security (run as certain user from the service)</li>
</ol>
<p>A basic example,</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">service</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">id</span>&gt;</span>myapp<span class="tag">&lt;/<span class="name">id</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">name</span>&gt;</span>myapp<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">description</span>&gt;</span>this service runs myapp solution<span class="tag">&lt;/<span class="name">description</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">env</span> <span class="attr">name</span>=<span class="string">"APP_HOME"</span> <span class="attr">value</span>=<span class="string">"%BASE%"</span>/&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">logpath</span>&gt;</span>%BASE%\logs<span class="tag">&lt;/<span class="name">logpath</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">logmode</span>&gt;</span>rotate<span class="tag">&lt;/<span class="name">logmode</span>&gt;</span></div><div class="line"></div><div class="line">	<span class="tag">&lt;<span class="name">executable</span>&gt;</span>%BASE%/jre1.8.0_121/bin/java.exe<span class="tag">&lt;/<span class="name">executable</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">arguments</span>&gt;</span>-Xmx256m -jar %BASE%\myapp.jar -Dlog4j.configuration=%BASE%\config\log4j2.xml --loader.path=%BASE%\config --spring.config.location=%BASE%\config\myapp.properties<span class="tag">&lt;/<span class="name">arguments</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">service</span>&gt;</span></div></pre></td></tr></table></figure>
<h1 id="externalize-spring-config-file"><a href="#externalize-spring-config-file" class="headerlink" title="externalize spring config file"></a>externalize spring config file</h1><p><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html" target="_blank" rel="external">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html</a><br>for example,</p>
<p>–spring.config.location=/opt/myconfig.properties</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-07-04T14:10:41.085Z"><a href="/2017/07/04/Java/Maven/Maven-Nexus/">2017-07-04</a></time>
      
      
  
    <h1 class="title"><a href="/2017/07/04/Java/Maven/Maven-Nexus/"></a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Deploy-rpm-package-to-Nexus"><a href="#Deploy-rpm-package-to-Nexus" class="headerlink" title="Deploy rpm package to Nexus"></a>Deploy rpm package to Nexus</h2><h3 id="Method-1"><a href="#Method-1" class="headerlink" title="Method 1"></a>Method 1</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mvn deploy:deploy-file \</div><div class="line">    -DgroupId=com.github.diegopacheco.sandbox.devops \</div><div class="line">    -DartifactId=fpmtest \</div><div class="line">    -Dversion=1.0.0 \</div><div class="line">    -DgeneratePom=true \</div><div class="line">    -Dpackaging=rpm \</div><div class="line">    -DrepositoryId=nexus \</div><div class="line">    -Durl=http://127.0.0.1:8081/nexus/content/repositories/releases \</div><div class="line">    -Dfile=slashbin-1.0-1.x86_64.rpm</div></pre></td></tr></table></figure>
<h3 id="Method-2"><a href="#Method-2" class="headerlink" title="Method 2"></a>Method 2</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">curl -v -u admin:admin123 --upload-file slashbin-1.0-1.x86_64.rpm \</div><div class="line">http://127.0.0.1:8081/nexus/content/repositories/releases/com/github/diegopacheco/sandbox/devops/fpmtest/1.0.1/fpmtest-1.0.1.rpm</div></pre></td></tr></table></figure>
<h3 id="Method-3"><a href="#Method-3" class="headerlink" title="Method 3"></a>Method 3</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -v -F r=releases -F hasPom=false -F e=rpm -F g=com.github.diegopacheco.sandbox.devops -F a=fpmtest -F v=2.0 -F p=rpm -F file=@slashbin-1.0-1.x86_64.rpm -u admin:admin123 http://127.0.0.1:8081/nexus/service/local/artifact/maven/content</div></pre></td></tr></table></figure>
<h1 id="Reference-links"><a href="#Reference-links" class="headerlink" title="Reference links"></a>Reference links</h1><p><a href="https://maven.apache.org/guides/mini/guide-encryption.html" target="_blank" rel="external">https://maven.apache.org/guides/mini/guide-encryption.html</a></p>
<p><a href="https://gist.github.com/diegopacheco/e04e90508451e8ce134b" target="_blank" rel="external">https://gist.github.com/diegopacheco/e04e90508451e8ce134b</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-07-04T14:10:41.078Z"><a href="/2017/07/04/Java/DesignPattern/Factory/">2017-07-04</a></time>
      
      
  
    <h1 class="title"><a href="/2017/07/04/Java/DesignPattern/Factory/"></a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Factory"><a href="#Factory" class="headerlink" title="Factory"></a>Factory</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&#123;  </div><div class="line">        <span class="comment">//real case invoking</span></div><div class="line">        invokeSharedCode(<span class="keyword">new</span> BikeFactory());</div><div class="line">        invokeSharedCode(<span class="keyword">new</span> CarFactory());</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//object being created depending on factory type, and behavior is defined in interface also</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">invokeSharedCode</span><span class="params">(TransportFactory factory)</span></span>&#123;</div><div class="line">    	 Transport transport = factory.create();</div><div class="line">       System.out.println(transport.drive());</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="core-concept"><a href="#core-concept" class="headerlink" title="core concept"></a>core concept</h2><p>Shared code interface not hardcoded with typeA or typeB,<br>but typeA and B all extend the same factory and initialization using same function.</p>
<p>After create, we can invoke the same name function provided by typeA or B.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-07-04T14:10:41.067Z"><a href="/2017/07/04/IDEs/intellij/intellijSettings/">2017-07-04</a></time>
      
      
  
    <h1 class="title"><a href="/2017/07/04/IDEs/intellij/intellijSettings/"></a></h1>
  

    </header>
    <div class="entry">
      
        <!-- TOC START min:1 max:3 link:true update:true -->
<ul>
<li><a href="#normal-setting-after-install">Normal Setting after install</a><ul>
<li><a href="#encoding">Encoding</a></li>
<li><a href="#git-ignore">git ignore</a></li>
</ul>
</li>
<li><a href="#import-existing-projects">import existing projects</a><ul>
<li><a href="#set-folder-structure">set folder structure</a></li>
</ul>
</li>
<li><a href="#issues">issues</a><ul>
<li><a href="#issue-with-jdk-version-while-building">issue with JDK version while building</a></li>
</ul>
</li>
</ul>
<!-- TOC END -->
<h1 id="Normal-Setting-after-install"><a href="#Normal-Setting-after-install" class="headerlink" title="Normal Setting after install"></a>Normal Setting after install</h1><h2 id="Encoding"><a href="#Encoding" class="headerlink" title="Encoding"></a>Encoding</h2><p>Setting -&gt; File Encodings</p>
<h2 id="git-ignore"><a href="#git-ignore" class="headerlink" title="git ignore"></a>git ignore</h2><p>Use below .gitignore</p>
<p><a href="https://github.com/github/gitignore/blob/master/Global/JetBrains.gitignore" target="_blank" rel="external">https://github.com/github/gitignore/blob/master/Global/JetBrains.gitignore</a></p>
<p><a href="https://github.com/github/gitignore/blob/master/Java.gitignore" target="_blank" rel="external">https://github.com/github/gitignore/blob/master/Java.gitignore</a></p>
<h1 id="import-existing-projects"><a href="#import-existing-projects" class="headerlink" title="import existing projects"></a>import existing projects</h1><h3 id="set-folder-structure"><a href="#set-folder-structure" class="headerlink" title="set folder structure"></a>set folder structure</h3><h1 id="issues"><a href="#issues" class="headerlink" title="issues"></a>issues</h1><h2 id="issue-with-JDK-version-while-building"><a href="#issue-with-JDK-version-while-building" class="headerlink" title="issue with JDK version while building"></a>issue with JDK version while building</h2><ul>
<li><p>exception</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">diamond operator is not supported in -source 1.5</div></pre></td></tr></table></figure>
</li>
<li><p>resolution</p>
</li>
</ul>
<p>Change the project pom.xml<br><a href="https://stackoverflow.com/questions/29258141/maven-compilation-error-use-source-7-or-higher-to-enable-diamond-operator/31734791#31734791" target="_blank" rel="external">https://stackoverflow.com/questions/29258141/maven-compilation-error-use-source-7-or-higher-to-enable-diamond-operator/31734791#31734791</a></p>
<p>Two options, both work the same.</p>
<p> Option 1,<br> <figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>Option2,<br> <figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></div><div class="line">       <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></div><div class="line">               <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">               <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line">                   <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">source</span>&gt;</span></div><div class="line">                   <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">target</span>&gt;</span></div><div class="line">               <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div><div class="line">           <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></div><div class="line">       <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></div><div class="line">   <span class="tag">&lt;/<span class="name">build</span>&gt;</span></div></pre></td></tr></table></figure></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-07-04T14:10:41.059Z"><a href="/2017/07/04/IDEs/atom/AtomSetting/">2017-07-04</a></time>
      
      
  
    <h1 class="title"><a href="/2017/07/04/IDEs/atom/AtomSetting/"></a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Atom-behind-firewall"><a href="#Atom-behind-firewall" class="headerlink" title="Atom behind firewall"></a>Atom behind firewall</h1><p><a href="https://discuss.atom.io/t/is-there-any-proxy-settings/710/59" target="_blank" rel="external">https://discuss.atom.io/t/is-there-any-proxy-settings/710/59</a></p>
<p>ENVIONRMENT: WIndows 7</p>
<p>Browse to your .atom directory, for me it was under (C:\Users.atom<br>Create a new file named ‘.apmrc’<br>Open and add in:<br>https-proxy=<a href="http://USERNAME:PASSWORD@domain:port" target="_blank" rel="external">http://USERNAME:PASSWORD@domain:port</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-07-04T14:10:41.050Z"><a href="/2017/07/04/BackToBasic/Kerbose/Kerbose/">2017-07-04</a></time>
      
      
  
    <h1 class="title"><a href="/2017/07/04/BackToBasic/Kerbose/Kerbose/"></a></h1>
  

    </header>
    <div class="entry">
      
        <!-- TOC START min:1 max:3 link:true update:true -->
<ul>
<li><a href="#what-is-kerbose-and-how-it-is-designed">What is Kerbose and how it is designed</a><ul>
<li><a href="#designing-an-authentication-system-a-dialogue-in-four-scenes">Designing an Authentication System: a Dialogue in Four Scenes</a></li>
</ul>
</li>
<li><a href="#my-own-understanding">my own understanding</a><ul>
<li><a href="#scene-1">Scene 1</a></li>
<li><a href="#scene-2">Scene 2</a></li>
<li><a href="#scene-3">Scene 3,</a></li>
<li><a href="#scene-4">Scene 4</a></li>
</ul>
</li>
</ul>
<!-- TOC END -->
<h1 id="What-is-Kerbose-and-how-it-is-designed"><a href="#What-is-Kerbose-and-how-it-is-designed" class="headerlink" title="What is Kerbose and how it is designed"></a>What is Kerbose and how it is designed</h1><h2 id="Designing-an-Authentication-System-a-Dialogue-in-Four-Scenes"><a href="#Designing-an-Authentication-System-a-Dialogue-in-Four-Scenes" class="headerlink" title="Designing an Authentication System: a Dialogue in Four Scenes"></a>Designing an Authentication System: a Dialogue in Four Scenes</h2><p><a href="https://web.mit.edu/kerberos/dialogue.html" target="_blank" rel="external">https://web.mit.edu/kerberos/dialogue.html</a></p>
<p><a href="http://www.xuebuyuan.com/748249.html" target="_blank" rel="external">http://www.xuebuyuan.com/748249.html</a></p>
<h1 id="my-own-understanding"><a href="#my-own-understanding" class="headerlink" title="my own understanding"></a>my own understanding</h1><h2 id="Scene-1"><a href="#Scene-1" class="headerlink" title="Scene 1"></a>Scene 1</h2><h2 id="Scene-2"><a href="#Scene-2" class="headerlink" title="Scene 2"></a>Scene 2</h2><ol>
<li>step 客户端向认证服务器Charon请求， 并提交用户名密码和请求的服务名</li>
<li>step 认证服务器Charon检查用户名密码，如果全部正确，则返回一个使用认证服务器的公钥加密的票根， 包含用户名</li>
<li>step 客户端使用票根请求服务，服务器使用私钥解密票根，获取用户名，通过则向该用户提供服务</li>
</ol>
<p><strong>漏洞</strong>： 服务器无法知道解密的票根结果是否正确</p>
<p><strong>改进</strong>： 票根包含： { 用户名， 服务名 }；由于服务名类似约定内容，这样服务器解密后从内容中得到正确服务名，验证解密正确</p>
<p><strong>漏洞</strong>： 如果票根包被拦截，其它客户端可以使用拦截的票根发起请求</p>
<p><strong>改进</strong>：票根包含初始请求客户端ip地址 ，票根包含： { 用户名，请求IP， 服务名 }这样拦截票根的客户端发起请求也无法通过验证（ip对不上）</p>
<p><strong>新需求</strong>： 每次服务请求都需要反复请求票根太麻烦，即使相同服务可以重用票根，可是不同的服务还是需要重新申请票根，而且不安全 （多次明文提交密码给Charon服务器），可能被人猜出来。</p>
<h2 id="Scene-3"><a href="#Scene-3" class="headerlink" title="Scene 3,"></a>Scene 3,</h2><p><strong>试图解决的问题</strong>：</p>
<ul>
<li>第一个限制：用户只输一次口令，在他们工作站启动的时候，这意味着当你需要申请新的服务的票时，不需输入你的口令。</li>
<li>第二个限制：口令不能在网络上进行明文传输。</li>
</ul>
<p><strong>步骤</strong></p>
<ol>
<li>step 客户端通过kinit来跟认证服务器Charon请求服务。当客户端输入用户名和密码后，kinit只把用户名和请求发给认证服务器Charon</li>
<li>step 认证服务器Charon将一组票根使用用户的密码进行加密后返回给kinit</li>
<li>step kinit使用step1中客户输入的密码对认证服务器Charon返回的票根进行解密。成功解密后就可以使用相应票根请求相应服务了。</li>
</ol>
<p>解决了上述两根问题。（只输入一次口令，而且口令不需要在网络上明文传输）</p>
<p><strong>漏洞</strong>： 大量票根存放在本地不安全。 黑客只需要窃取票根，并且模拟用户ip地址就可以访问所有用户的服务。</p>
<p><strong>改进</strong>：在票根中加入时间戳， 约定过期时间（例如八小时）。记住，票根中的信息是用服务提供者的公钥加密过的。这样服务提供者解密票根后可以知道是谁在什么时间请求了这些服务， 是否过期。</p>
<p><strong>漏洞</strong>：但是，在时间戳过期前，仍旧是不安全的。</p>
<h2 id="Scene-4"><a href="#Scene-4" class="headerlink" title="Scene 4"></a>Scene 4</h2><p><strong>试图解决的问题</strong>：</p>
<p>试图解决的问题：Scene3中的遗留问题。即在时间戳过期前，票根被截取，ip地址被模拟。</p>
<p><strong>步骤</strong></p>
<ol>
<li>step 客户端通过kinit来跟认证服务器Charon请求服务。当客户端输入用户名和密码后，kinit只把用户名和请求发给认证服务器Charon</li>
<li>step 认证服务器Charon将一组票根和一个动态口令使用用户的密码进行加密后返回给kinit<br>Charon的回应－客户端口令加密的（[口令｜票]） ；其中 票= 服务公钥加密的｛口令：用户名：地址：服务名：有效期：时间戳｝</li>
<li>step kinit使用step1中客户输入的密码对认证服务器Charon返回的返回进行解密, 成功解密后，除了票根，还得到了一个动态口令，这个动态口令跟服务公钥加密中包含的口令相同。</li>
<li>step 请求服务时，使用动态口令对｛用户名：地址｝进行加密，然后跟票根一起提交服务请求。</li>
<li>step 服务使用服务私钥解密票根，得到动态口令，使用动态口令解密跟票根一起提交的用户名和地址，如果对得上，则通过。</li>
</ol>
<p><strong>漏洞</strong>： 拷贝包含动态口令加密过的票根和模拟ip地址（但是不知道动态口令），仍旧可以在时间戳过期前复用票根。<br>改进：给动态口令加密的内容中加上时间戳，比如两分钟，然后每次用动态口令加密的时候里面加密进去一个时间戳，然后服务端用动态口令解密后检查时间戳是否失效，这样即使截获到包含正确动态口令加密过的数据包仍然是没有足够的时间重演的（需要模拟ip地址重发）。</p>
<p><strong>如果动态密码本身被截获就不同了。如何解决？</strong></p>
<p>但是其实是不可能的，因为动态口令在回给kinit的时候使用客户的key进行了加密，所以只有正确的kinit客户端才有用户的密码解开包，看到动态口令。截获包含动态密码的数据包也是没有用的</p>
<p><strong>漏洞</strong>： 这个场景保护的是服务不被假冒的客户使用。但是并不保证客户访问的是真正的服务器，如果在routing上做手脚，用户可能把要打印的内容发送给假的服务方。如何解决？</p>
<p><strong>方案</strong>:</p>
<p>使用上述口令可以解决。<br>当客户端准备发送敏感数据前，可以要求服务端返回使用动态口令加密的相应。由于动态口令只有客户端和正确的服务端知道，所以只有正确的服务端能够使用动态口令对内容进行加密并发送正确的相应给客户端。<br>问题解决。</p>
<p><strong>这样的一种安全方案就叫做Kerberos</strong></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-07-04T14:10:41.040Z"><a href="/2017/07/04/BackToBasic/Git/GitCmd/">2017-07-04</a></time>
      
      
  
    <h1 class="title"><a href="/2017/07/04/BackToBasic/Git/GitCmd/"></a></h1>
  

    </header>
    <div class="entry">
      
        <p>S1, have existing repo and change to use git repo to track the change</p>
<p>with remot repo<br>$ mkdir /path/to/new_repo<br>$ cd /path/to/new_repo<br>$ git –bare init</p>
<p>with existing repo<br>$ cd /path/to/existing_repo<br>$ git init<br>$ vi .gitignroe<br>$ git add .<br>$ git commit -m “init”</p>
<p>$ git push –set-upstream /path/to/new_repo mastergit</p>
<p>$git remote add origin /path/tocurrent-existinglib<br>fatal: remote origin already exists.<br>$ git remote rm origin<br>and then add again</p>
<p>Create Developer branch<br>git branch develop<br>git checkout develop</p>
<p>follow the flow the develop<br><a href="https://gist.github.com/yesmeck/4245406" target="_blank" rel="external">https://gist.github.com/yesmeck/4245406</a></p>
<p>======cancel any change in current branch that not yet being staged (add .) ======<br>git checkout – .</p>
<p>S2, create a new bare repo remotely and then start from local</p>
<p>git clone /path/to/remote/bare/repo</p>
<p>====<br>check remote repository<br>git ls-remote</p>
<p>print all branchs<br>git show-branch -a</p>
<p>Common working process<br>$ git checkout -b feature/xxx develop</p>
<h1 id="写代码，提交，写代码，提交。。。"><a href="#写代码，提交，写代码，提交。。。" class="headerlink" title="写代码，提交，写代码，提交。。。"></a>写代码，提交，写代码，提交。。。</h1><h1 id="feature-开发完成，合并回-develop"><a href="#feature-开发完成，合并回-develop" class="headerlink" title="feature 开发完成，合并回 develop"></a>feature 开发完成，合并回 develop</h1><p>$ git checkout develop</p>
<h1 id="务必加上-–no-ff，以保持分支的合并历史"><a href="#务必加上-–no-ff，以保持分支的合并历史" class="headerlink" title="务必加上 –no-ff，以保持分支的合并历史"></a>务必加上 –no-ff，以保持分支的合并历史</h1><p>$ git merge –no-ff feature/xxx<br>$ git branch -d feature/xxx</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-07-04T13:44:14.223Z"><a href="/2017/07/04/hello-world/">2017-07-04</a></time>
      
      
  
    <h1 class="title"><a href="/2017/07/04/hello-world/">Hello World</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
    <a href="/" class="alignleft prev">Vorherige Seite</a>
  
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Suche">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2017 John Doe
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>
